# Autogenerated (Do not edit)

require "formula"
require_relative "lib/private_strategy"

class Aard < Formula
  desc "aard is Aardvark's CLI"
  homepage "https://aardvarklabs.com/"
  url "https://github.com/aardlabs/homebrew-cli/releases/download/v$RELEASE_VERSION/aard-darwin-amd64-v$RELEASE_VERSION.zip"
  sha256 "$SHA256_CHECKSUM"
  head "https://github.com/aardlabs/homebrew-cli.git"
  depends_on "coreutils"

  def install
    libexec.install Dir["*"]
    bin.install_symlink libexec/"aard"
    (bash_completion/"aard").write `#{bin}/aard completion -s bash`
    (fish_completion/"aard.fish").write `#{bin}/gh completion -s fish`
    (zsh_completion/"_aard").write `#{bin}/aard completion -s zsh`
  end

  def caveats
    <<~EOS
      aard is the aardvark CLI.

      * Once installed, you can run the following command to help get started

        $ aard --help

      * Command history: aard can track your command history locally.

      To enable this for the bash shell, please add this to your last
      line of your .bash_profile or .bashrc.

        source #{opt_libexec}/bash-init.sh

      To enable this for the zsh shell, please add this to .zshrc.

        source #{opt_libexec}/zsh-init.sh

    EOS
  end

  # Homebrew requires tests.
  test do
    assert_match "$RELEASE_VERSION", shell_output("#{bin}/aard --version", 2)
  end
end